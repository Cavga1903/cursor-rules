---
alwaysApply: true
---

# Documentation Rules - DokÃ¼mantasyon Best Practices

> âš ï¸ **Ã–NEMLÄ°:** Bu dosya her zaman uygulanÄ±r. Ä°yi dokÃ¼mantasyon kodun bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±rÄ±r.

---

## ğŸ“ Code Comments

### 1. JSDoc Comments

**âœ… DoÄŸru (JSDoc):**
```typescript
/**
 * Calculates the total price of items in the cart.
 * 
 * @param items - Array of cart items with price property
 * @returns Total price in kuruÅŸ (integer)
 * @throws {Error} If items array is empty
 * 
 * @example
 * ```typescript
 * const items = [
 *   { id: "1", price: 1000 },
 *   { id: "2", price: 2000 },
 * ];
 * const total = calculateTotal(items); // 3000
 * ```
 */
function calculateTotal(items: CartItem[]): number {
  if (items.length === 0) {
    throw new Error("Items array cannot be empty");
  }
  return items.reduce((sum, item) => sum + item.price, 0);
}
```

---

### 2. Inline Comments

**âŒ YanlÄ±ÅŸ (Gereksiz comment):**
```typescript
// Set count to 0
let count = 0;

// Loop through items
for (const item of items) {
  // Add item price to total
  total += item.price;
}
```

**âœ… DoÄŸru (Sadece gerektiÄŸinde):**
```typescript
let count = 0;  // Self-explanatory, comment gerekmez

// Complex business logic iÃ§in comment
// Apply discount only if user is premium member and order > 1000
if (user.isPremium && orderTotal > 1000) {
  discount = orderTotal * 0.1;
}
```

---

### 3. TODO Comments

**âœ… DoÄŸru (TODO format):**
```typescript
// TODO: Refactor this function to use Result type instead of throwing
// Related: Epic-5, Story-5.2
function processPayment(orderId: string) {
  // Implementation
}

// FIXME: This causes memory leak in long-running sessions
// Issue: #123
function cacheData(data: unknown) {
  // Implementation
}
```

---

## ğŸ“š Component Documentation

### 1. Component Props Documentation

**âœ… DoÄŸru (Props documentation):**
```typescript
interface ButtonProps {
  /** Button text content */
  children: React.ReactNode;
  
  /** Button variant style */
  variant?: "primary" | "secondary" | "danger";
  
  /** Click handler function */
  onClick?: () => void;
  
  /** Disable button interaction */
  disabled?: boolean;
  
  /** ARIA label for accessibility */
  "aria-label"?: string;
}

/**
 * Button component with multiple variants.
 * 
 * @example
 * ```tsx
 * <Button variant="primary" onClick={handleClick}>
 *   Submit
 * </Button>
 * ```
 */
export function Button({
  children,
  variant = "primary",
  onClick,
  disabled = false,
  "aria-label": ariaLabel,
}: ButtonProps) {
  return (
    <button
      onClick={onClick}
      disabled={disabled}
      aria-label={ariaLabel}
      className={`button button--${variant}`}
    >
      {children}
    </button>
  );
}
```

---

### 2. Complex Component Logic

**âœ… DoÄŸru (Complex logic documentation):**
```typescript
/**
 * ProductList component with virtual scrolling for performance.
 * 
 * Uses react-window to render only visible items, improving
 * performance for large product lists (1000+ items).
 * 
 * @example
 * ```tsx
 * <ProductList
 *   products={products}
 *   onProductClick={handleProductClick}
 *   itemHeight={100}
 * />
 * ```
 */
export function ProductList({ products, onProductClick, itemHeight }: Props) {
  // Implementation with virtual scrolling
}
```

---

## ğŸ”§ API Documentation

### 1. Tauri Commands Documentation

**âœ… DoÄŸru (Tauri command documentation):**
```rust
/// Retrieves a user by ID from the database.
///
/// # Arguments
///
/// * `id` - User ID (UUID string)
/// * `session` - Current user session for authorization
///
/// # Returns
///
/// Returns `Ok(User)` if user exists and is accessible,
/// `Err(String)` if user not found or unauthorized.
///
/// # Errors
///
/// - "User not found" - User ID doesn't exist
/// - "Unauthorized" - User doesn't have permission
///
/// # Example
///
/// ```rust
/// let user = get_user("123e4567-e89b-12d3-a456-426614174000".to_string(), session)?;
/// ```
#[tauri::command]
fn get_user(id: String, session: Session) -> Result<User, String> {
  // Implementation
}
```

---

### 2. Function Documentation

**âœ… DoÄŸru (Function documentation):**
```typescript
/**
 * Formats a price value (in kuruÅŸ) to display string.
 * 
 * Converts integer price (e.g., 1000) to formatted string
 * with currency symbol (e.g., "10,00 â‚º").
 * 
 * @param price - Price in kuruÅŸ (integer)
 * @param currency - Currency symbol (default: "â‚º")
 * @returns Formatted price string
 * 
 * @example
 * ```typescript
 * formatPrice(1000); // "10,00 â‚º"
 * formatPrice(1234, "$"); // "12,34 $"
 * ```
 */
function formatPrice(price: number, currency: string = "â‚º"): string {
  const lira = Math.floor(price / 100);
  const kurus = price % 100;
  return `${lira.toLocaleString("tr-TR")},${kurus.toString().padStart(2, "0")} ${currency}`;
}
```

---

## ğŸ“– README Documentation

### 1. README Structure

**âœ… DoÄŸru (README structure):**
```markdown
# Project Name

Brief description of the project.

## Features

- Feature 1
- Feature 2

## Installation

\`\`\`bash
npm install
npm run dev
\`\`\`

## Usage

\`\`\`typescript
import { Component } from "./components";
\`\`\`

## Development

\`\`\`bash
npm run dev
npm run test
npm run build
\`\`\`

## Contributing

See [CONTRIBUTING.md](CONTRIBUTING.md)

## License

MIT
```

---

### 2. API Documentation

**âœ… DoÄŸru (API documentation):**
```markdown
## API Reference

### `getUser(id: string): Promise<User>`

Retrieves a user by ID.

**Parameters:**
- `id` (string) - User ID

**Returns:**
- `Promise<User>` - User object

**Throws:**
- `Error` - If user not found

**Example:**
\`\`\`typescript
const user = await getUser("123");
\`\`\`
```

---

## ğŸ—ï¸ Architecture Documentation

### 1. Architecture Decision Records (ADR)

**âœ… DoÄŸru (ADR format):**
```markdown
# ADR-001: Use SQLite for Local Storage

## Status
Accepted

## Context
We need local storage for offline-first functionality.

## Decision
Use SQLite with rusqlite for local database.

## Consequences
- âœ… Offline-first support
- âœ… Fast local queries
- âš ï¸ Database migrations needed
- âš ï¸ Backup strategy required
```

---

### 2. Code Structure Documentation

**âœ… DoÄŸru (Structure documentation):**
```markdown
## Project Structure

\`\`\`
src/
â”œâ”€â”€ components/     # React components
â”œâ”€â”€ pages/         # Page components
â”œâ”€â”€ api.ts         # Tauri API wrapper
â”œâ”€â”€ types.ts       # TypeScript types
â””â”€â”€ utils/         # Utility functions
\`\`\`
```

---

## ğŸ“‹ Documentation Checklist

### Code Comments
- [ ] Complex functions JSDoc ile dokÃ¼mante edildi mi?
- [ ] Function parameters aÃ§Ä±klanmÄ±ÅŸ mÄ±?
- [ ] Return types belirtilmiÅŸ mi?
- [ ] Examples var mÄ±?
- [ ] TODO comments aÃ§Ä±klayÄ±cÄ± mÄ±?

### Component Documentation
- [ ] Props interface dokÃ¼mante edildi mi?
- [ ] Component usage examples var mÄ±?
- [ ] Complex logic aÃ§Ä±klanmÄ±ÅŸ mÄ±?

### API Documentation
- [ ] Tauri commands dokÃ¼mante edildi mi?
- [ ] Function signatures aÃ§Ä±k mÄ±?
- [ ] Error cases belirtilmiÅŸ mi?
- [ ] Examples var mÄ±?

### README
- [ ] Project description var mÄ±?
- [ ] Installation instructions var mÄ±?
- [ ] Usage examples var mÄ±?
- [ ] API reference var mÄ±?

---

## ğŸš« Anti-Patterns

### 1. Obvious Comments

**âŒ YanlÄ±ÅŸ:**
```typescript
// Set x to 5
let x = 5;

// Return the user
return user;
```

**âœ… DoÄŸru:**
```typescript
let x = 5;  // Comment gerekmez

return user;  // Comment gerekmez
```

---

### 2. Outdated Comments

**âŒ YanlÄ±ÅŸ:**
```typescript
// This function calculates tax (old implementation)
function calculateTax(price: number) {
  // New implementation - comment eski
  return price * 0.18;
}
```

**âœ… DoÄŸru:**
```typescript
/**
 * Calculates VAT (18%) for given price.
 */
function calculateTax(price: number): number {
  return price * 0.18;
}
```

---

### 3. Commented Code

**âŒ YanlÄ±ÅŸ:**
```typescript
// function oldImplementation() {
//   // Old code
// }

function newImplementation() {
  // New code
}
```

**âœ… DoÄŸru:**
```typescript
// Eski kodu sil, git history'de saklanÄ±r
function newImplementation() {
  // New code
}
```

---

## ğŸ”— Referanslar

- [JSDoc Documentation](https://jsdoc.app/)
- [TypeDoc](https://typedoc.org/)
- [Rust Documentation](https://doc.rust-lang.org/book/ch14-02-publishing-to-crates-io.html#making-useful-documentation-comments)

---

**Son GÃ¼ncelleme:** 2026-01-19  
**Versiyon:** 1.0.0
