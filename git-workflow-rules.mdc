---
alwaysApply: true
---

# Git Workflow Rules - Version Control Best Practices

> âš ï¸ **Ã–NEMLÄ°:** Bu dosya her zaman uygulanÄ±r. Git workflow tutarlÄ±lÄ±k ve collaboration iÃ§in kritiktir.

---

## ğŸŒ¿ Branch Strategy

### 1. Branch Naming Convention

**Format:** `{type}/{description}`

**Types:**
- `feature/` - Yeni Ã¶zellik
- `fix/` - Bug fix
- `refactor/` - Refactoring
- `docs/` - DokÃ¼mantasyon
- `test/` - Test ekleme/dÃ¼zenleme
- `chore/` - Genel bakÄ±m

**âœ… DoÄŸru:**
```bash
feature/user-authentication
fix/login-race-condition
refactor/product-list-component
docs/api-documentation
test/auth-integration-tests
chore/update-dependencies
```

**âŒ YanlÄ±ÅŸ:**
```bash
new-feature
bugfix
my-branch
fix123
```

---

### 2. Branch Workflow

**Main Branches:**
- `main` - Production-ready code
- `develop` - Development branch (opsiyonel)

**Feature Branches:**
```bash
# Feature branch oluÅŸtur
git checkout -b feature/user-profile

# Development yap
git add .
git commit -m "feat(user): add user profile component"

# Main'e merge et
git checkout main
git merge feature/user-profile
git branch -d feature/user-profile
```

---

## ğŸ“ Commit Messages

### 1. Conventional Commits

**Format:** `{type}({scope}): {description}`

**Types:**
- `feat:` - Yeni Ã¶zellik
- `fix:` - Bug fix
- `refactor:` - Refactoring
- `docs:` - DokÃ¼mantasyon
- `style:` - Code style (formatting, whitespace)
- `test:` - Test ekleme/dÃ¼zenleme
- `chore:` - Genel bakÄ±m
- `perf:` - Performance improvement
- `ci:` - CI/CD changes

**âœ… DoÄŸru:**
```bash
feat(auth): add login functionality
fix(pos): resolve race condition in cart
refactor(stock): extract magic numbers to constants
docs(api): add Tauri commands documentation
test(auth): add login integration tests
chore(deps): update dependencies
```

**âŒ YanlÄ±ÅŸ:**
```bash
update
fix bug
changes
WIP
```

---

### 2. Commit Message Structure

**Format:**
```
{type}({scope}): {short description}

{detailed description (optional)}

{footer (optional)}
```

**âœ… DoÄŸru:**
```bash
feat(auth): add role-based access control

- Add Owner and Cashier role validation
- Implement backend role checks in Tauri commands
- Add frontend role-based UI rendering

Related: P1, Epic-2
```

---

### 3. Commit Best Practices

**âœ… DoÄŸru:**
- Atomic commits (tek bir deÄŸiÅŸiklik)
- Descriptive messages
- Present tense ("add" not "added")
- Scope belirtin (component, feature, vb.)

**âŒ YanlÄ±ÅŸ:**
- Multiple unrelated changes
- Vague messages ("update", "fix")
- Past tense ("added", "fixed")
- No scope

---

## ğŸ”„ Git Workflow

### 1. Pre-Commit Checklist

**Quality Gates:**
```bash
# 1. Type checking
npm run typecheck

# 2. Linting
npm run lint

# 3. Tests
npm run test

# 4. Build check
npm run build
```

**âœ… DoÄŸru (Pre-commit hook):**
```bash
#!/bin/bash
# .git/hooks/pre-commit

npm run typecheck || exit 1
npm run lint || exit 1
npm run test || exit 1

echo "âœ… All checks passed"
```

---

### 2. Commit Workflow

**âœ… DoÄŸru:**
```bash
# 1. Status kontrolÃ¼
git status

# 2. Staging
git add .

# 3. Commit
git commit -m "feat(scope): description"

# 4. Push
git push origin feature/branch-name
```

---

### 3. Merge Strategy

**âœ… DoÄŸru (Merge commit):**
```bash
git checkout main
git merge feature/user-profile
git push origin main
```

**âœ… DoÄŸru (Rebase - linear history):**
```bash
git checkout feature/user-profile
git rebase main
git checkout main
git merge feature/user-profile
```

---

## ğŸ·ï¸ Tagging

### 1. Semantic Versioning

**Format:** `v{MAJOR}.{MINOR}.{PATCH}`

- **MAJOR** - Breaking changes
- **MINOR** - New features (backward compatible)
- **PATCH** - Bug fixes

**âœ… DoÄŸru:**
```bash
v1.0.0  # Initial release
v1.1.0  # New feature
v1.1.1  # Bug fix
v2.0.0  # Breaking change
```

---

### 2. Tagging Workflow

**âœ… DoÄŸru:**
```bash
# Tag oluÅŸtur
git tag -a v1.0.0 -m "Release version 1.0.0"

# Tag push et
git push origin v1.0.0

# TÃ¼m tag'leri push et
git push origin --tags
```

---

## ğŸ” Code Review

### 1. Pull Request Checklist

**Review Checklist:**
- [ ] Code quality (readability, maintainability)
- [ ] Type safety (no `any`, proper types)
- [ ] Error handling (try-catch, Result types)
- [ ] Security (input validation, role checks)
- [ ] Performance (N+1 queries, waterfall'lar)
- [ ] Testing (unit tests, integration tests)
- [ ] Documentation (JSDoc, comments)
- [ ] Accessibility (ARIA labels, keyboard navigation)

---

### 2. PR Description Template

**Format:**
```markdown
## Description
Brief description of changes

## Type of Change
- [ ] Bug fix
- [ ] New feature
- [ ] Refactoring
- [ ] Documentation

## Testing
- [ ] Unit tests added/updated
- [ ] Integration tests added/updated
- [ ] Manual testing done

## Related Issues
Closes #123
Related: Epic-2, Story-2.1
```

---

## ğŸš« Anti-Patterns

### 1. Force Push

**âŒ YanlÄ±ÅŸ:**
```bash
git push --force origin main  # ASLA main'e force push yapmayÄ±n
```

**âœ… DoÄŸru:**
```bash
# Feature branch'te force push (gerekirse)
git push --force-with-lease origin feature/branch-name
```

---

### 2. Commit History Pollution

**âŒ YanlÄ±ÅŸ:**
```bash
git commit -m "WIP"
git commit -m "fix"
git commit -m "update"
```

**âœ… DoÄŸru:**
```bash
# Squash commits before merge
git rebase -i HEAD~3
# pick, squash, reword kullan
```

---

### 3. Large Commits

**âŒ YanlÄ±ÅŸ:**
```bash
git add .
git commit -m "big update"
# 50+ dosya deÄŸiÅŸikliÄŸi tek commit'te
```

**âœ… DoÄŸru:**
```bash
# Atomic commits
git add src/components/Button.tsx
git commit -m "feat(ui): add Button component"

git add src/components/Input.tsx
git commit -m "feat(ui): add Input component"
```

---

## ğŸ“‹ Git Workflow Checklist

### Before Commit
- [ ] Quality gates geÃ§ti mi? (typecheck, lint, test)
- [ ] Commit message conventional format'ta mÄ±?
- [ ] Atomic commit mi? (tek bir deÄŸiÅŸiklik)
- [ ] Scope belirtildi mi?

### Before Push
- [ ] Branch name doÄŸru mu?
- [ ] Latest main/develop merge edildi mi?
- [ ] Conflicts Ã§Ã¶zÃ¼ldÃ¼ mÃ¼?

### Before Merge
- [ ] Code review yapÄ±ldÄ± mÄ±?
- [ ] Tests geÃ§ti mi?
- [ ] Documentation gÃ¼ncellendi mi?
- [ ] Breaking changes belirtildi mi?

---

## ğŸ”— Referanslar

- [Conventional Commits](https://www.conventionalcommits.org/)
- [Semantic Versioning](https://semver.org/)
- [Git Workflow Best Practices](https://www.atlassian.com/git/tutorials/comparing-workflows)

---

**Son GÃ¼ncelleme:** 2026-01-19  
**Versiyon:** 1.0.0
